{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\n\n// use \"useSelector\" to get the array\nconst initialState = {\n  selectedProducts: localStorage.getItem(\"selectedProducts\") ? JSON.parse(localStorage.getItem(\"selectedProducts\")) : [],\n  selectedProductsID: localStorage.getItem(\"selectedProductsID\") ? JSON.parse(localStorage.getItem(\"selectedProductsID\")) : []\n};\nexport const counterSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  // action.payload => product From API => القيمة التى بداخل الاقواس\n  reducers: {\n    addToCart: (state, action) => {\n      // action.payload => product From API => القيمة التى بداخل الاقواس\n      const productWithQuantity = {\n        ...action.payload,\n        quantity: 1\n      };\n      state.selectedProducts.push(productWithQuantity);\n      state.selectedProductsID.push(action.payload.id);\n      localStorage.setItem(\"selectedProducts\", JSON.stringify(state.selectedProducts));\n      localStorage.setItem(\"selectedProductsID\", JSON.stringify(state.selectedProductsID));\n    },\n    increaseQuantity: (state, action) => {\n      // action.payload => product From user\n      const incresdedProuct = state.selectedProducts.find(item => {\n        return item.id === action.payload.id;\n      });\n      incresdedProuct.quantity += 1;\n      localStorage.setItem(\"selectedProducts\", JSON.stringify(state.selectedProducts));\n    },\n    decreaseQuantity: (state, action) => {\n      // action.payload => product From user\n      const incresdedProuct = state.selectedProducts.find(item => {\n        return item.id === action.payload.id;\n      });\n      incresdedProuct.quantity -= 1;\n      if (incresdedProuct.quantity === 0) {\n        // delete the selected product\n        const newArr = state.selectedProducts.filter(item => {\n          return item.id !== action.payload.id;\n        });\n        const newArr2 = state.selectedProductsID.filter(item => {\n          return item !== action.payload.id;\n        });\n        state.selectedProducts = newArr;\n        state.selectedProductsID = newArr2;\n        localStorage.setItem(\"selectedProductsID\", JSON.stringify(state.selectedProductsID));\n      }\n      localStorage.setItem(\"selectedProducts\", JSON.stringify(state.selectedProducts));\n    },\n    deleteProduct: (state, action) => {\n      // delete the selected product\n      const newArr = state.selectedProducts.filter(item => {\n        return item.id !== action.payload.id;\n      });\n      const newArr2 = state.selectedProductsID.filter(item => {\n        return item !== action.payload.id;\n      });\n      state.selectedProducts = newArr;\n      state.selectedProductsID = newArr2;\n      localStorage.setItem(\"selectedProductsID\", JSON.stringify(state.selectedProductsID));\n      localStorage.setItem(\"selectedProducts\", JSON.stringify(state.selectedProducts));\n    }\n  }\n});\n\n//  دائماً هتنساهااااااااااااااااااااااااااااااااااااااع\nexport const {\n  deleteProduct,\n  addToCart,\n  increaseQuantity,\n  decreaseQuantity\n} = counterSlice.actions;\nexport default counterSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","selectedProducts","localStorage","getItem","JSON","parse","selectedProductsID","counterSlice","name","reducers","addToCart","state","action","productWithQuantity","payload","quantity","push","id","setItem","stringify","increaseQuantity","incresdedProuct","find","item","decreaseQuantity","newArr","filter","newArr2","deleteProduct","actions","reducer"],"sources":["/Users/user/development/arch-card/react-level5/frontend/src/Redux/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\n// use \"useSelector\" to get the array\nconst initialState = {\n  selectedProducts: localStorage.getItem(\"selectedProducts\")\n    ? JSON.parse(localStorage.getItem(\"selectedProducts\"))\n    : [],\n  selectedProductsID: localStorage.getItem(\"selectedProductsID\")\n    ? JSON.parse(localStorage.getItem(\"selectedProductsID\"))\n    : [],\n};\n\nexport const counterSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  // action.payload => product From API => القيمة التى بداخل الاقواس\n  reducers: {\n    addToCart: (state, action) => {\n      // action.payload => product From API => القيمة التى بداخل الاقواس\n      const productWithQuantity = { ...action.payload, quantity: 1 };\n      state.selectedProducts.push(productWithQuantity);\n      state.selectedProductsID.push(action.payload.id);\n\n      localStorage.setItem(\n        \"selectedProducts\",\n        JSON.stringify(state.selectedProducts)\n      );\n      localStorage.setItem(\n        \"selectedProductsID\",\n        JSON.stringify(state.selectedProductsID)\n      );\n    },\n\n    increaseQuantity: (state, action) => {\n      // action.payload => product From user\n      const incresdedProuct = state.selectedProducts.find((item) => {\n        return item.id === action.payload.id;\n      });\n\n      incresdedProuct.quantity += 1;\n\n      localStorage.setItem(\n        \"selectedProducts\",\n        JSON.stringify(state.selectedProducts)\n      );\n    },\n\n    decreaseQuantity: (state, action) => {\n      // action.payload => product From user\n      const incresdedProuct = state.selectedProducts.find((item) => {\n        return item.id === action.payload.id;\n      });\n\n      incresdedProuct.quantity -= 1;\n      if (incresdedProuct.quantity === 0) {\n        // delete the selected product\n        const newArr = state.selectedProducts.filter((item) => {\n          return item.id !== action.payload.id;\n        });\n\n        const newArr2 = state.selectedProductsID.filter((item) => {\n          return item !== action.payload.id;\n        });\n\n        state.selectedProducts = newArr;\n        state.selectedProductsID = newArr2;\n\n        localStorage.setItem(\n          \"selectedProductsID\",\n          JSON.stringify(state.selectedProductsID)\n        );\n      }\n\n      localStorage.setItem(\n        \"selectedProducts\",\n        JSON.stringify(state.selectedProducts)\n      );\n    },\n\n    deleteProduct: (state, action) => {\n      // delete the selected product\n      const newArr = state.selectedProducts.filter((item) => {\n        return item.id !== action.payload.id;\n      });\n\n      const newArr2 = state.selectedProductsID.filter((item) => {\n        return item !== action.payload.id;\n      });\n\n      state.selectedProducts = newArr;\n      state.selectedProductsID = newArr2;\n\n      localStorage.setItem(\n        \"selectedProductsID\",\n        JSON.stringify(state.selectedProductsID)\n      );\n\n      localStorage.setItem(\n        \"selectedProducts\",\n        JSON.stringify(state.selectedProducts)\n      );\n    },\n  },\n});\n\n//  دائماً هتنساهااااااااااااااااااااااااااااااااااااااع\nexport const { deleteProduct, addToCart, increaseQuantity, decreaseQuantity } =\n  counterSlice.actions;\n\nexport default counterSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}