{"ast":null,"code":"import _objectSpread from\"/Users/user/development/arch-card/react-level5/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from\"@reduxjs/toolkit\";// use \"useSelector\" to get the array\nvar initialState={selectedProducts:localStorage.getItem(\"selectedProducts\")?JSON.parse(localStorage.getItem(\"selectedProducts\")):[],selectedProductsID:localStorage.getItem(\"selectedProductsID\")?JSON.parse(localStorage.getItem(\"selectedProductsID\")):[]};export var counterSlice=createSlice({name:\"cart\",initialState:initialState,// action.payload => product From API => القيمة التى بداخل الاقواس\nreducers:{addToCart:function addToCart(state,action){// action.payload => product From API => القيمة التى بداخل الاقواس\nvar productWithQuantity=_objectSpread(_objectSpread({},action.payload),{},{quantity:1});state.selectedProducts.push(productWithQuantity);state.selectedProductsID.push(action.payload.id);localStorage.setItem(\"selectedProducts\",JSON.stringify(state.selectedProducts));localStorage.setItem(\"selectedProductsID\",JSON.stringify(state.selectedProductsID));},increaseQuantity:function increaseQuantity(state,action){// action.payload => product From user\nvar incresdedProuct=state.selectedProducts.find(function(item){return item.id===action.payload.id;});incresdedProuct.quantity+=1;localStorage.setItem(\"selectedProducts\",JSON.stringify(state.selectedProducts));},decreaseQuantity:function decreaseQuantity(state,action){// action.payload => product From user\nvar incresdedProuct=state.selectedProducts.find(function(item){return item.id===action.payload.id;});incresdedProuct.quantity-=1;if(incresdedProuct.quantity===0){// delete the selected product\nvar newArr=state.selectedProducts.filter(function(item){return item.id!==action.payload.id;});var newArr2=state.selectedProductsID.filter(function(item){return item!==action.payload.id;});state.selectedProducts=newArr;state.selectedProductsID=newArr2;localStorage.setItem(\"selectedProductsID\",JSON.stringify(state.selectedProductsID));}localStorage.setItem(\"selectedProducts\",JSON.stringify(state.selectedProducts));},deleteProduct:function deleteProduct(state,action){// delete the selected product\nvar newArr=state.selectedProducts.filter(function(item){return item.id!==action.payload.id;});var newArr2=state.selectedProductsID.filter(function(item){return item!==action.payload.id;});state.selectedProducts=newArr;state.selectedProductsID=newArr2;localStorage.setItem(\"selectedProductsID\",JSON.stringify(state.selectedProductsID));localStorage.setItem(\"selectedProducts\",JSON.stringify(state.selectedProducts));}}});//  دائماً هتنساهااااااااااااااااااااااااااااااااااااااع\nvar _counterSlice$actions=counterSlice.actions,deleteProduct=_counterSlice$actions.deleteProduct,addToCart=_counterSlice$actions.addToCart,increaseQuantity=_counterSlice$actions.increaseQuantity,decreaseQuantity=_counterSlice$actions.decreaseQuantity;export{deleteProduct,addToCart,increaseQuantity,decreaseQuantity};export default counterSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","selectedProducts","localStorage","getItem","JSON","parse","selectedProductsID","counterSlice","name","reducers","addToCart","state","action","productWithQuantity","payload","quantity","push","id","setItem","stringify","increaseQuantity","incresdedProuct","find","item","decreaseQuantity","newArr","filter","newArr2","deleteProduct","actions","reducer"],"sources":["/Users/user/development/arch-card/react-level5/frontend/src/Redux/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\n// use \"useSelector\" to get the array\nconst initialState = {\n  selectedProducts: localStorage.getItem(\"selectedProducts\")\n    ? JSON.parse(localStorage.getItem(\"selectedProducts\"))\n    : [],\n  selectedProductsID: localStorage.getItem(\"selectedProductsID\")\n    ? JSON.parse(localStorage.getItem(\"selectedProductsID\"))\n    : [],\n};\n\nexport const counterSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  // action.payload => product From API => القيمة التى بداخل الاقواس\n  reducers: {\n    addToCart: (state, action) => {\n      // action.payload => product From API => القيمة التى بداخل الاقواس\n      const productWithQuantity = { ...action.payload, quantity: 1 };\n      state.selectedProducts.push(productWithQuantity);\n      state.selectedProductsID.push(action.payload.id);\n\n      localStorage.setItem(\n        \"selectedProducts\",\n        JSON.stringify(state.selectedProducts)\n      );\n      localStorage.setItem(\n        \"selectedProductsID\",\n        JSON.stringify(state.selectedProductsID)\n      );\n    },\n\n    increaseQuantity: (state, action) => {\n      // action.payload => product From user\n      const incresdedProuct = state.selectedProducts.find((item) => {\n        return item.id === action.payload.id;\n      });\n\n      incresdedProuct.quantity += 1;\n\n      localStorage.setItem(\n        \"selectedProducts\",\n        JSON.stringify(state.selectedProducts)\n      );\n    },\n\n    decreaseQuantity: (state, action) => {\n      // action.payload => product From user\n      const incresdedProuct = state.selectedProducts.find((item) => {\n        return item.id === action.payload.id;\n      });\n\n      incresdedProuct.quantity -= 1;\n      if (incresdedProuct.quantity === 0) {\n        // delete the selected product\n        const newArr = state.selectedProducts.filter((item) => {\n          return item.id !== action.payload.id;\n        });\n\n        const newArr2 = state.selectedProductsID.filter((item) => {\n          return item !== action.payload.id;\n        });\n\n        state.selectedProducts = newArr;\n        state.selectedProductsID = newArr2;\n\n        localStorage.setItem(\n          \"selectedProductsID\",\n          JSON.stringify(state.selectedProductsID)\n        );\n      }\n\n      localStorage.setItem(\n        \"selectedProducts\",\n        JSON.stringify(state.selectedProducts)\n      );\n    },\n\n    deleteProduct: (state, action) => {\n      // delete the selected product\n      const newArr = state.selectedProducts.filter((item) => {\n        return item.id !== action.payload.id;\n      });\n\n      const newArr2 = state.selectedProductsID.filter((item) => {\n        return item !== action.payload.id;\n      });\n\n      state.selectedProducts = newArr;\n      state.selectedProductsID = newArr2;\n\n      localStorage.setItem(\n        \"selectedProductsID\",\n        JSON.stringify(state.selectedProductsID)\n      );\n\n      localStorage.setItem(\n        \"selectedProducts\",\n        JSON.stringify(state.selectedProducts)\n      );\n    },\n  },\n});\n\n//  دائماً هتنساهااااااااااااااااااااااااااااااااااااااع\nexport const { deleteProduct, addToCart, increaseQuantity, decreaseQuantity } =\n  counterSlice.actions;\n\nexport default counterSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}