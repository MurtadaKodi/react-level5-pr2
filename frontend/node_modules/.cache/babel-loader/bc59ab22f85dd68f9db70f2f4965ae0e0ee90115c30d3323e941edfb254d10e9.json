{"ast":null,"code":"import{Box}from\"@mui/system\";import\"./Home.css\";import React from\"react\";import{Typography,IconButton,Button,Stack,CircularProgress,Badge}from\"@mui/material\";import{Add,Remove,ShoppingCart}from\"@mui/icons-material\";import{styled,useTheme}from\"@mui/material/styles\";import Card from\"@mui/material/Card\";import CardMedia from\"@mui/material/CardMedia\";import CardContent from\"@mui/material/CardContent\";import CardActions from\"@mui/material/CardActions\";import{useGetproductsByNameQuery}from\"../../Redux/productsApi\";import{useDispatch,useSelector}from\"react-redux\";import{addToCart,decreaseQuantity,increaseQuantity}from\"Redux/cartSlice\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledBadge=styled(Badge)(function(_ref){var theme=_ref.theme;return{\"& .MuiBadge-badge\":{}};});var Home=function Home(){var theme=useTheme();// data =>ALL products\nvar _useGetproductsByName=useGetproductsByNameQuery(),data=_useGetproductsByName.data,error=_useGetproductsByName.error,isLoading=_useGetproductsByName.isLoading;var dispatch=useDispatch();var navitage=useNavigate();var _useSelector=useSelector(// @ts-ignore\nfunction(state){return state.carttt;}),selectedProducts=_useSelector.selectedProducts,selectedProductsID=_useSelector.selectedProductsID;var productQuantity=function productQuantity(itemAPI){var myProduct=selectedProducts.find(function(itemUser){return itemUser.id===itemAPI.id;});return myProduct.quantity;};if(isLoading){return/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\"},children:/*#__PURE__*/_jsx(CircularProgress,{})});}if(error){return/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\"},children:/*#__PURE__*/_jsxs(Typography,{variant:\"h1\",color:\"error\",children:[\" \",\"ERROR\",\" \"]})});}console.log(data);if(data){return/*#__PURE__*/_jsx(Stack,{direction:\"row\",sx:{flexWrap:\"wrap\",justifyContent:\"center\"},children:data.map(function(item,index){return/*#__PURE__*/_jsxs(Card,{className:\"card\",sx:{maxWidth:277,mb:6,mx:2},children:[/*#__PURE__*/_jsx(CardMedia,{component:\"img\",height:\"277\",image:item.imageLink[0],alt:\"Paella dish\",onClick:function onClick(){navitage(\"product-details/\".concat(item.id));}}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:item.description})}),/*#__PURE__*/_jsxs(CardActions,{sx:{justifyContent:\"space-between\"},disableSpacing:true,children:[selectedProductsID.includes(item.id)?/*#__PURE__*/_jsxs(\"div\",{dir:\"rtl\",style:{display:\"flex\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(IconButton,{color:\"primary\",sx:{ml:\"10px\"},onClick:function onClick(){dispatch(increaseQuantity(item));},children:/*#__PURE__*/_jsx(Add,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(StyledBadge,{badgeContent:productQuantity(item),color:\"primary\"}),/*#__PURE__*/_jsx(IconButton,{color:\"primary\",sx:{mr:\"10px\"},onClick:function onClick(){dispatch(decreaseQuantity(item));},children:/*#__PURE__*/_jsx(Remove,{fontSize:\"small\"})})]}):/*#__PURE__*/_jsxs(Button,{sx:{textTransform:\"capitalize\",p:1,lineHeight:1.1},variant:\"contained\",color:\"primary\",onClick:function onClick(){dispatch(addToCart(item));},children:[/*#__PURE__*/_jsx(ShoppingCart,{sx:{fontSize:\"18px\",mr:1}}),\" Add to cart\"]}),/*#__PURE__*/_jsxs(Typography,{mr:1,variant:\"body1\",color:theme.palette.error.light,children:[\"$\",item.price]})]})]},item.id);})});}};export default Home;","map":{"version":3,"names":["Box","React","Typography","IconButton","Button","Stack","CircularProgress","Badge","Add","Remove","ShoppingCart","styled","useTheme","Card","CardMedia","CardContent","CardActions","useGetproductsByNameQuery","useDispatch","useSelector","addToCart","decreaseQuantity","increaseQuantity","useNavigate","StyledBadge","theme","Home","data","error","isLoading","dispatch","navitage","state","carttt","selectedProducts","selectedProductsID","productQuantity","itemAPI","myProduct","find","itemUser","id","quantity","display","console","log","flexWrap","justifyContent","map","item","index","maxWidth","mb","mx","imageLink","description","includes","alignItems","ml","mr","textTransform","p","lineHeight","fontSize","palette","light","price"],"sources":["/Users/user/development/arch-card/react-level5/frontend/src/pages/home/Home.jsx"],"sourcesContent":["import { Box } from \"@mui/system\";\nimport \"./Home.css\";\nimport React from \"react\";\nimport {\n  Typography,\n  IconButton,\n  Button,\n  Stack,\n  CircularProgress,\n  Badge,\n} from \"@mui/material\";\nimport { Add, Remove, ShoppingCart } from \"@mui/icons-material\";\nimport { styled, useTheme } from \"@mui/material/styles\";\nimport Card from \"@mui/material/Card\";\n\nimport CardMedia from \"@mui/material/CardMedia\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardActions from \"@mui/material/CardActions\";\nimport { useGetproductsByNameQuery } from \"../../Redux/productsApi\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addToCart, decreaseQuantity, increaseQuantity } from \"Redux/cartSlice\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst StyledBadge = styled(Badge)(({ theme }) => ({\n  \"& .MuiBadge-badge\": {},\n}));\n\nconst Home = () => {\n  const theme = useTheme();\n  // data =>ALL products\n  const { data, error, isLoading } = useGetproductsByNameQuery();\n  const dispatch = useDispatch();\n  const navitage = useNavigate();\n\n  const { selectedProducts, selectedProductsID } = useSelector(\n    // @ts-ignore\n    (state) => state.carttt\n  );\n\n  const productQuantity = (itemAPI) => {\n    const myProduct = selectedProducts.find((itemUser) => {\n      return itemUser.id === itemAPI.id;\n    });\n\n    return myProduct.quantity;\n  };\n\n  if (isLoading) {\n    return (\n      <Box sx={{ display: \"flex\" }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  if (error) {\n    return (\n      <Box sx={{ display: \"flex\" }}>\n        <Typography variant=\"h1\" color=\"error\">\n          {\" \"}\n          ERROR{\" \"}\n        </Typography>\n      </Box>\n    );\n  }\n  console.log(data);\n  if (data) {\n    return (\n      <Stack\n        direction={\"row\"}\n        sx={{ flexWrap: \"wrap\", justifyContent: \"center\" }}\n      >\n        {data.map((item, index) => {\n          return (\n            <Card\n              className=\"card\"\n              key={item.id}\n              sx={{ maxWidth: 277, mb: 6, mx: 2 }}\n            >\n              <CardMedia\n                component=\"img\"\n                height=\"277\"\n                image={item.imageLink[0]}\n                alt=\"Paella dish\"\n                onClick={() => {\n                  navitage(`product-details/${item.id}`);\n                }}\n              />\n              <CardContent>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  {item.description}\n                </Typography>\n              </CardContent>\n              <CardActions\n                sx={{ justifyContent: \"space-between\" }}\n                disableSpacing\n              >\n                {selectedProductsID.includes(item.id) ? (\n                  <div\n                    dir=\"rtl\"\n                    style={{ display: \"flex\", alignItems: \"center\" }}\n                  >\n                    <IconButton\n                      color=\"primary\"\n                      sx={{ ml: \"10px\" }}\n                      onClick={() => {\n                        dispatch(increaseQuantity(item));\n                      }}\n                    >\n                      <Add fontSize=\"small\" />\n                    </IconButton>\n\n                    <StyledBadge\n                      badgeContent={productQuantity(item)}\n                      color=\"primary\"\n                    />\n\n                    <IconButton\n                      color=\"primary\"\n                      sx={{ mr: \"10px\" }}\n                      onClick={() => {\n                        dispatch(decreaseQuantity(item));\n                      }}\n                    >\n                      <Remove fontSize=\"small\" />\n                    </IconButton>\n                  </div>\n                ) : (\n                  <Button\n                    sx={{ textTransform: \"capitalize\", p: 1, lineHeight: 1.1 }}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={() => {\n                      dispatch(addToCart(item));\n                    }}\n                  >\n                    <ShoppingCart sx={{ fontSize: \"18px\", mr: 1 }} /> Add to\n                    cart\n                  </Button>\n                )}\n\n                <Typography\n                  mr={1}\n                  variant=\"body1\"\n                  color={theme.palette.error.light}\n                >\n                  ${item.price}\n                </Typography>\n              </CardActions>\n            </Card>\n          );\n        })}\n      </Stack>\n    );\n  }\n};\n\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}